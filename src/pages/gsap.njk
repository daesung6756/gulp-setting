{% extends 'layout.njk' %}

<!-- header -->
{% block header %}
<header id="header" class="header">
    <div class="header--inner">
        이곳은 Gsap 페이지 입니다.
        <!-- gnb -->
        {% import 'macros/gnb-macro.njk' as gnb %}
        {{gnb.active('Gsap')}}
        <!-- //gnb -->
    </div>
</header>
{% endblock %}
<!-- //header -->
<!-- content -->
{% block content %}
<section id="section1">
    <p>section1</p>
</section>
<section id="section2">
    <p>section2</p>
    <div class="box_wrapper">
        <div class="box box1 horizon_box">
            <h1>1</h1>
        </div>
        <div class="box box2 horizon_box">
            <h1>2</h1>
        </div>
        <div class="box box3 horizon_box">
            <h1>3</h1>
        </div>
    </div>
</section>
<section id="section3">
    <p>section3</p>
</section>
<section id="section4">
    <p>section4</p>
</section>
{% endblock %}
<!-- //content -->
<!-- wrapper bottom -->
{% block wrapperBottom %}
<style>
    * { margin: 0; }
    body { margin: 0; }
    section { position: relative; width: 100%; height: 100vh; }
    #section1 { background: yellowgreen; }
    #section2 { background: goldenrod; overflow: hidden; }
    #section3 { background: indianred; }
    #section4 { background: paleturquoise; }
    .horizon_box { position: absolute; top: 0; left: 100%; }
    .box { display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; }
    .box h1 { font-size: 50px; text-align: center; }
    .box2 { background: crimson; }
    .box3 { background: darkorchid; }
</style>
<script>
    const $sections = $(".horizon_box");
    const tl = gsap.timeline({
        scrollTrigger: {
            trigger: "#section2",
            pin: true,
            scrub: 0.3,
            start: "top top",
            end: "+=3000"
        }
    });
    tl.to($sections, {xPercent: -100, duration:2, ease: "none", stagger:3})
        .to({},{duration:1});
</script>
{% endblock %}
<!-- //wrapper bottom -->